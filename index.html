<html>
    <head>
        <title>Book Viewer</title>
        <link rel="icon" type="image/png" href="iconMask.png">
        <link rel="apple-touch-icon" href="iconMask.png">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <!--<link href="splash1242.png" sizes="1242x2208" rel="apple-touch-startup-image">-->
        <link href="appleSplashscreens/iphone5_splash.png" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image">
        <link href="appleSplashscreens/iphone6_splash.png" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image">
        <link href="appleSplashscreens/iphoneplus_splash.png" media="(device-width: 621px) and (device-height: 1104px) and (-webkit-device-pixel-ratio: 3)" rel="apple-touch-startup-image">
        <link href="appleSplashscreens/iphonex_splash.png" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3)" rel="apple-touch-startup-image">
        <link href="appleSplashscreens/iphonexr_splash.png" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image">
        <link href="appleSplashscreens/iphonexsmax_splash.png" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3)" rel="apple-touch-startup-image">
        <link href="appleSplashscreens/ipad_splash.png" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image">
        <link href="appleSplashscreens/ipadpro1_splash.png" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image">
        <link href="appleSplashscreens/ipadpro3_splash.png" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image">
        <link href="appleSplashscreens/ipadpro2_splash.png" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script>
            const disableIOSInputZoom = () => {
                const el = document.querySelector("meta[name=viewport]");
            
                if(el !== null) {
                    let content = el.getAttribute("content");
                    let re = /maximum\-scale=[0-9\.]+/g;

                    if(re.test(content)) {
                        content = content.replace(re, "maximum-scale=1.0");
                    }
                    else {
                        content = [content, "maximum-scale=1.0"].join(', ');
                    }
                
                    el.setAttribute("content", content);
                }
            };
            
            const checkIsIOS = () => /iPad|iPhone|iPod/.test(navigator.userAgent);
            if(checkIsIOS()) disableIOSInputZoom();
        </script>
        <link rel="stylesheet" href="index.css">
        <link rel="stylesheet" href="dark.css" id="darkStyleSheet">
        <link rel="stylesheet" href="oled.css" id="oledStyleSheet" disabled>
        <link rel="manifest" href="manifest.json">
        <script src="index.js" defer></script>
        <script src="settings.js" defer></script>
    </head>
    <body>
        <div id="pwaInstallInput" tabindex="0">install</div>
        <center>
            <button id="settingsToggleButton">Toggle Settings</button>
            <div id="settingsContainer">
                <p>Settings Id:</p>
                <input id="settingsIdInput" autocorrect="none" autocapitalize="none" autocomplete="none">
                <br>
                <button id="settingsLoadButton">Load Settings</button>
                <button id="settingsSaveButton">Save Settings</button>
                <button id="settingsClearButton">Clear Settings</button>
                <p>File URL:</p>
                <input id="urlInput" autocorrect="none" autocapitalize="none" autocomplete="none" value="not available">
                <br>
                <button id="urlSubmit">Submit</button>
                <p>Load Space:</p>
                <input id="lazyLoadSpaceInput" value="(0,0),(0,0)" autocorrect="none" autocapitalize="none" autocomplete="none">
                <p>Load Time:</p> 
                <input id="lazyLoadTimeoutInput" type="number" value="1000" autocorrect="none" autocapitalize="none" autocomplete="none">
                <p>
                    Theme:
                    <select id="themePicker">
                        <option value="light">Light</option>
                        <option value="dark" selected>Dark</option>
                        <option value="oled">Oled</option>
                    </select>
                </p>
                <p>Scroll History: <input id="scrollHistoryInput" type="checkbox" checked></p>
                <p>Dark Theme: <input id="darkEnabledInput" type="checkbox" checked></p>
                <p>Hide Cover Art: <input id="infoEnabledInput" type="checkbox"></p>
                <p>Cache Files: <input id="filesCacheInput" type="checkbox" checked></p>
                <br>
                <input type="file" id="filesInput" multiple>
                <button id="filesButton">Choose Files</button>
                <br>
                <input type="file" id="directoryInput" webkitdirectory>
                <button id="directoryButton">Choose Directory</button>
                <br>
                <input type="file" id="directoriesInput" webkitdirectory>
                <button id="directoriesButton">Choose Directories</button>
                <br>
                <button id="toggleFullscreenButton">Toggle Fullscreen</button>
            </div>

            <div id="info">
                <h1 id="title"></h1>
                <div id="cover">
                    <img id="coverImage">
                </div>
                <br>
                <div id="description"></div>
            </div>

            <div id="navBar">
                Chapter:
                <select id="chaptersPicker"></select>
                Reading Type:
                <select id="typePicker">
                    <option value="one">One Page</option>
                    <option value="all">All Pages</option>
                    <option value="allNSP">All Pages (No Spaces)</option>
                </select>
                <div id="pagesPickerContainer">
                    Page:
                    <select id="pagesPicker"></select>
                </div>
            </div>

            <div id="pager">
                <div id="pagesPrev" tabindex="0">&#9001; Prev</div>
                <div id="pagesNext" tabindex="0">Next &#9002;</div>
                <div id="pageContent"></div>
                <div id="pagesPrev" tabindex="0">&#9001; Prev</div>
                <div id="pagesNext" tabindex="0">Next &#9002;</div>
            </div>
        </center>
    </body>
</html>